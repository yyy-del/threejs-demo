import{S as p,g as f,h as w,i as C,A as x,k as B,d as E,W as L}from"./three.module.00e15d00.js";import{O as y}from"./OrbitControls.7e68ed9b.js";import{d as v,q as M,a2 as b,o as A,f as I,_ as S}from"./index.dd5f0a7f.js";const W={id:"camera"},k=v({__name:"Camera",setup(P){let a,t,n,c,l;M(()=>{d()}),b(()=>{c.removeEventListener("change",i),m()});function d(){const e=document.getElementById("camera");if(!e)return;const s=e.clientWidth,o=e.clientHeight;a=new p;const u=new f(40,40,40),_=new w({color:255}),g=new C(u,_);a.add(g);let h=new x(15790320,.6);a.add(h);const r=new B(16777215);r.position.set(0,40,0),a.add(r),t=new E(60,s/o,.1,1e4),t.position.set(210,210,210),t.lookAt(a.position),n=new L({antialias:!0}),n.setClearColor(12178431,1),n.setSize(s,o),e.appendChild(n.domElement),t&&(c=new y(t,n.domElement)),c.addEventListener("change",i),i()}function i(){t&&n.render(a,t)}function m(){var s;console.log("\u9500\u6BC1\u6A21\u578B");const e=document.getElementById("camera");try{if(e){window.cancelAnimationFrame(l),a.clear(),n.dispose(),n.forceContextLoss();const o=n.domElement.getContext("webgl");o&&((s=o.getExtension("WEBGL_lose_context"))==null||s.loseContext()),e.innerHTML="",console.log("\u9500\u6BC1\u6210\u529F")}}catch(o){console.log(o),console.log("\u9500\u6BC1\u5931\u8D25")}}return window.onresize=function(){const e=document.getElementById("camera");if(!e)return;const s=e.clientWidth,o=e.clientHeight;n.setSize(s,o),t&&(t.aspect=s/o,t.updateProjectionMatrix()),i()},(e,s)=>(A(),I("div",W))}});const D=S(k,[["__scopeId","data-v-1d3e185f"]]);export{D as default};
