import{S as p,g as f,h as w,i as C,A as x,k as B,d as E,W as L}from"./three.module.00e15d00.js";import{O as y}from"./OrbitControls.7e68ed9b.js";import{d as v,q as M,W as b,o as W,f as A,_ as I}from"./index.08fa0935.js";const S={id:"camera"},k=v({__name:"Camera",setup(P){let i,t,n,c,l;M(()=>{d()}),b(()=>{c.removeEventListener("change",a),m()});function d(){const e=document.getElementById("camera");if(!e)return;const s=e.clientWidth,o=e.clientHeight;i=new p;const u=new f(40,40,40),_=new w({color:255}),g=new C(u,_);i.add(g);let h=new x(15790320,.6);i.add(h);const r=new B(16777215);r.position.set(0,40,0),i.add(r),t=new E(60,s/o,.1,1e4),t.position.set(210,210,210),t.lookAt(i.position),n=new L({antialias:!0}),n.setClearColor(12178431,1),n.setSize(s,o),e.appendChild(n.domElement),t&&(c=new y(t,n.domElement)),c.addEventListener("change",a),a()}function a(){t&&n.render(i,t)}function m(){var s;console.log("\u9500\u6BC1\u6A21\u578B");const e=document.getElementById("camera");try{if(e){window.cancelAnimationFrame(l),i.clear(),n.dispose(),n.forceContextLoss();const o=n.domElement.getContext("webgl");o&&((s=o.getExtension("WEBGL_lose_context"))==null||s.loseContext()),e.innerHTML="",console.log("\u9500\u6BC1\u6210\u529F")}}catch(o){console.log(o),console.log("\u9500\u6BC1\u5931\u8D25")}}return window.onresize=function(){const e=document.getElementById("camera");if(!e)return;const s=e.clientWidth,o=e.clientHeight;n.setSize(s,o),t&&(t.aspect=s/o,t.updateProjectionMatrix()),a()},(e,s)=>(W(),A("div",S))}});const D=I(k,[["__scopeId","data-v-1d3e185f"]]);export{D as default};
