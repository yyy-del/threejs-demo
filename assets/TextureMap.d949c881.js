import{S as D,j as C,x as p,h as x,D as g,i as c,g as h,y as F,z as H,m as y,A as k,d as O,W as V,H as b,V as q,J as z,e as L,K as U,s as $}from"./three.module.00e15d00.js";import{O as J}from"./OrbitControls.7e68ed9b.js";import{d as K,q as N,a2 as Q,o as X,f as Y,_ as Z}from"./index.dd5f0a7f.js";const ee={id:"texture-map"},te=K({__name:"TextureMap",setup(ne){let s,u,l,v,M;N(()=>{T()}),Q(()=>{v.removeEventListener("change",d),G()});function T(){const t=document.getElementById("texture-map");if(!t)return;const e=t.clientWidth,a=t.clientHeight;s=new D;let o=new C(204,102);const r=new p,n=location.origin+"/threejs-demo/img/sea.webp";r.load(n,w=>{var i=new x({map:w,side:g});let f=new c(o,i);s.add(f),d()});let P=new h(40,40,40);new F().load(n,w=>{let i=new H(w);i.needsUpdate=!0;let f=new x({map:i});const _=new c(P,f);_.position.set(40,80,40),s.add(_),d()});let W=new h(40,40,40);r.load(n,w=>{const i=new y({color:16777023}),_=[new y({map:w}),i,i,i,i,i],B=new c(W,_);B.position.set(0,100,0),s.add(B),d()}),E(),A(),I(),S(),j();let R=new k(16777215,1);s.add(R),u=new O(60,window.innerWidth/window.innerHeight,.1,1e4),u.position.set(210,210,210),u.lookAt(s.position),l=new V({antialias:!0}),l.setSize(e,a),t.appendChild(l.domElement),v=new J(u,l.domElement),v.addEventListener("change",d),d()}async function E(){const t=new h(30,40,50),e=new p,a=location.origin+"/threejs-demo/img/sea.webp",o=await e.load(a);o.wrapS=b,o.wrapT=b,o.repeat.set(4,2);var r=new x({map:o,side:g});let n=new c(t,r);n.position.set(0,0,60),s.add(n)}async function A(){const t=new h(50,50,50),e=new p,a=location.origin+"/threejs-demo/img/sea.webp",o=await e.load(a);o.offset=new q(.3,.1);var r=new x({map:o,bumpScale:3,side:g});let n=new c(t,r);n.position.set(0,0,120),s.add(n)}async function I(){const t=new h(50,50,50),e=new p,a=location.origin+"/threejs-demo/img/sea.webp",o=await e.load(a);o.rotation=Math.PI/4,o.center.set(.5,.5);var r=new x({map:o,side:g});let n=new c(t,r);n.position.set(0,0,180),s.add(n)}let m;async function S(){const t=location.origin+"/threejs-demo/img/sea.webp";let e=new z([new L(0,0,120),new L(0,60,140),new L(0,60,160),new L(0,0,180)]),a=new U(e,100,.6,50,!1);m=await new p().load(t),m.wrapS=b,m.wrapT=b,m.repeat.x=20;let r=new y({map:m,transparent:!0});const n=new c(a,r);s.add(n)}async function j(){let t=document.createElement("canvas");t.width=512,t.height=128;let e=t.getContext("2d");if(!e)return;e.fillStyle="#ff00ff",e.fillRect(0,0,512,128),e.beginPath(),e.beginPath(),e.translate(256,64),e.fillStyle="#000000",e.font="bold 48px \u5B8B\u4F53",e.textBaseline="middle",e.textAlign="center",e.fillText("a canvas texture",0,0);let a=new $(t),o=new C(128,32),r=new y({map:a,side:g}),n=new c(o,r);n.position.set(0,-80,0),s.add(n)}function d(){l.render(s,u),M=requestAnimationFrame(d),m&&(m.offset.x-=.001)}function G(){var e;console.log("\u9500\u6BC1\u6A21\u578B");const t=document.getElementById("texture-map");try{if(t){window.cancelAnimationFrame(M),s.clear(),l.dispose(),l.forceContextLoss();const a=l.domElement.getContext("webgl");a&&((e=a.getExtension("WEBGL_lose_context"))==null||e.loseContext()),t.innerHTML="",console.log("\u9500\u6BC1\u6210\u529F")}}catch(a){console.log(a),console.log("\u9500\u6BC1\u5931\u8D25")}}return(t,e)=>(X(),Y("div",ee))}});const ie=Z(te,[["__scopeId","data-v-2be347ea"]]);export{ie as default};
